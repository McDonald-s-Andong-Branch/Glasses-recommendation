<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title> 안경 추천 시스템 👍</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Bootstrap Icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic"
        rel="stylesheet" type="text/css" />
    <!-- SimpleLightbox plugin CSS-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.css" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />

    <script src="js/face-api.js"></script>
    <script src="js/face-api.min.js"></script>
    <script src="js/faceDetectionControls.js"></script>

    <script src="js/canvas-drawer.js"></script>
    <script src="js/face_recog.js"></script>
</head>

<body id="page-top">
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
        <div class="container px-4 px-lg-5">
            <a class="navbar-brand" href="#page-top">
                <span class="brand-text">안경 추천 시스템</span>
            </a>
            <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
                aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto my-2 my-lg-0">
                    <li class="nav-item"><a class="nav-link" href="#services">Services</a></li>
                    <li class="nav-item"><a class="nav-link" href="#portfolio">🍟</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contact">🍔</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Masthead-->
    <header class="masthead" style="position: relative;">
        <div style="position: absolute; top: 0; width: 100%; height: 100%; backdrop-filter: blur(20px);">
            <div style="display: flex; margin-top: 10%;">
                <video id="video"
                    style="width: 45%; position: absolute; left: 3%; border-radius: 10px; box-shadow: 0 0 10px black;"
                    autoplay></video>
                <canvas id="canvas"
                    style="width: 45%; position: absolute; right: 3%; border-radius: 10px; box-shadow: 0 0 10px black;"></canvas>
            </div>
            <div style="width: 45%; position: absolute; left: 3%; top: 70%;">
                <button type="button" id="webcamBtn"
                    style="margin-left: auto; margin-right: auto; display: flex;">캡쳐하기</button>
            </div>
        </div>
    </header>
    <!-- 추천 안경, 안경을 쓴 모습 보여주는 파트 -->
    <section class="page-section" id="about" style="position: relative; background: white; height: 600px;">
        <script>
            function loadGlassesImage(event) {
                var glassesImage = document.getElementById("glassesImage");
                glassesImage.src = URL.createObjectURL(event.target.files[0]);
            }
        </script>
        
        <section class="page-section" id="about" style="position: relative; background: white;">
            <!-- AI가 추천하는 안경을 보여주는 부분 -->
            <div class="text-center"
            style="position: absolute;top: 10%;left: 50%;transform: translate(-50%, -50%);width: 100%;">
            <!-- 추천 안경 안내 텍스트 -->
            
            <!-- 안경 선택 기능 -->
            <div class="text-center"
                style="position: absolute;left: 50%;transform: translate(-50%, -50%);width: 100%;">
                <p style="color: black;">이런 안경을 추천해드려요!</p>
                <input type="file" id="glassesInput" accept="image/*" style="top: -5px; right: 0%; width: 15%; position: absolute;" onchange="loadGlassesImage(event)">
            </div>

            <!-- 추천 안경 이미지 -->
            <div class="text-center" style="margin-top: 20px;">
                <div id="glassesContainer"
                    style="width: 100%; overflow-x: scroll; white-space: nowrap;">
                    <img class="glassesOption" src="glasses1.jpg"
                        style="width: 200px; height: 200px; margin-right: 10px;">
                    <img class="glassesOption" src="glasses2.jpg"
                        style="width: 200px; height: 200px; margin-right: 10px;">
                    <img class="glassesOption" src="glasses3.jpg"
                        style="width: 200px; height: 200px; margin-right: 10px;">
                </div>
            </div>
        </div>
        </section>

        <script>
            function loadGlassesImage(event) {
                var glassesImage = document.getElementById("glassesImage");
                glassesImage.src = URL.createObjectURL(event.target.files[0]);
            }

            var glassesOptions = document.getElementsByClassName("glassesOption");
            for (var i = 0; i < glassesOptions.length; i++) {
                glassesOptions[i].addEventListener("click", function (event) {
                    var selectedGlasses = event.target.getAttribute("src");
                    var capturedImageContainer = document.getElementById("capturedImageContainer");
                    capturedImageContainer.innerHTML = '<img src="' + selectedGlasses + '" style="width: 100%; height: 100%;">';
                });
            }
        </script>


        <!-- Call to action-->
        <section class="page-section bg-dark text-white">
            <div class="container px-4 px-lg-5 text-center">
                <h2 class="mb-4">다양한 안경을 체험하러 가보세요 ! 👓️ </h2>
                <a class="btn btn-light btn-xl" href="https://vo.la/pufdt"> 👓️ 구경하기 ! </a>
            </div>
        </section>
        <!-- Contact-->
        <section class="page-section" id="contact">
            <style>
                table {
                    border-collapse: collapse;
                    margin-top: 10px;
                    border-top: 1px solid #ccc;
                    border-bottom: 1px solid #ccc;
                }

                td {
                    padding: 10px;
                    font-weight: bold;
                    text-align: center;
                    border-left: 1px solid #ccc;
                    border-right: 1px solid #ccc;
                }

                button {
                    font-size: 18px;
                    padding: 10px 20px;
                    background-color: #f48181;
                    margin-left: 20px;
                    margin-right: 20px;
                    margin-bottom: 20px;
                    color: white;
                    border: 3px solid #f48181;
                    border-radius: 15px;
                    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
                    margin-top: 20px;
                }

                button:hover {
                    background-color: #f48181;
                    color: #ffeee4;
                    cursor: pointer;
                }
            </style>
            <script>
                // Register a new person
                function registerNewPerson() {
                    const imageUrl = prompt("Enter the image URL for the new person:");
                    const name = prompt("Enter the name for the new person:");

                    // Create a new table row
                    const newRow = document.createElement("tr");

                    // Create the image cell
                    const imageCell = document.createElement("td");
                    const imageElement = document.createElement("img");
                    imageElement.src = imageUrl;
                    imageElement.style.width = "100px";
                    imageElement.style.height = "100px";
                    imageCell.appendChild(imageElement);
                    newRow.appendChild(imageCell);

                    // Create the name cell
                    const nameCell = document.createElement("td");
                    nameCell.style.width = "80px";
                    nameCell.textContent = name;
                    newRow.appendChild(nameCell);

                    // Create the attendance button cell
                    const buttonCell = document.createElement("td");
                    const attendanceButton = document.createElement("button");
                    attendanceButton.textContent = "😊";
                    buttonCell.appendChild(attendanceButton);
                    newRow.appendChild(buttonCell);

                    // Get the reference to the table
                    const table = document.querySelector("table");

                    // Insert the new row at the beginning of the table
                    table.insertBefore(newRow, table.firstChild);

                    // Clear the input fields
                    document.getElementById("new-person-image").src = "";
                    document.getElementById("new-person-name").textContent = "";

                    // Scroll to the newly registered person
                    newRow.scrollIntoView({ behavior: "smooth" });
                }
            </script>
            </head>

            <body>
                <div class="container px-4 px-lg-5 text-center">
                    <h2 class="mb-4">방문 기록을 남겨보세요 ! 👓️ </h2>
                    <div style="display: flex; flex-direction: column; align-items: center;">
                        <table style="background: white;">
                            <tr style="background-color: #ffecd8; border-top: 1px solid #ccc">
                                <td><img src="https://img.freepik.com/premium-vector/cute-happy-smiling-burger-character-modern-trendy-flat-style-cartoon-illustration-icon-isolated-on-white-burger-fast-food-character_92289-599.jpg"
                                        style="width:100px; height:100px;"></td>
                                <td style="width: 100px;">사람이름</td>
                                <td><button onclick="sendData1()">😊</button></td>
                            </tr>
                        </table>
                        <button onclick="registerNewPerson()">방문 기록 남기기</button>
                    </div>
                </div>
            </body>
        </section>

        <!-- Footer-->
        <footer class="bg-light py-5">
            <div class="container px-4 px-lg-5">
                <div class="small text-center text-muted">Copyright &copy; 2023 - 맥도날드 안동점</div>
            </div>
        </footer>
</body>

</html>
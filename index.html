<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title> 안경 추천 시스템 👍</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Bootstrap Icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic"
        rel="stylesheet" type="text/css" />
    <!-- SimpleLightbox plugin CSS-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.css" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="public/css/styles.css" rel="stylesheet" />
</head>

<body id="page-top">
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
        <div class="container px-4 px-lg-5">
            <a class="navbar-brand" href="#page-top">
                <span class="brand-text">안경 추천 시스템</span>
            </a>
            <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
                aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto my-2 my-lg-0">
                    <li class="nav-item"><a class="nav-link" href="#services">Services</a></li>
                    <li class="nav-item"><a class="nav-link" href="#portfolio">🍟</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contact">🍔</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Masthead-->
    <header class="masthead" style="position: relative;">
        <div style="position: absolute; top: 0; width: 100%; height: 100%; backdrop-filter: blur(20px);">
            <div style="display: flex; margin-top: 10%;">
                <video id="video"
                    style="width: 45%; position: absolute; left: 3%; border-radius: 10px; box-shadow: 0 0 10px black;"
                    autoplay></video>
                <canvas id="canvas"
                    style="width: 45%; position: absolute; right: 3%; border-radius: 10px; box-shadow: 0 0 10px black;"></canvas>
            </div>
            <div style="width: 45%; position: absolute; left: 3%; top: 70%;">
                <button type="button" id="webcamBtn"
                    style="margin-left: auto; margin-right: auto; display: flex;">캡쳐하기</button>
            </div>
            <script>
                const constraints = {
                    video: {
                        width: { ideal: 1280 },
                        height: { ideal: 720 }
                    }
                };

                var canvas = document.getElementById('canvas');
                var context = canvas.getContext('2d');
                var video = document.getElementById('video');
                const captureButton = document.getElementById("webcamBtn");
                captureButton.addEventListener("click", function () {
                    canvas.width = video.videoWidth;
                    canvas.height = video.videoHeight;
                    context.drawImage(video, 0, 0, canvas.width, canvas.height); // 캡처한 이미지 그리기

                    // 이미지를 네모 박스에 표시하기
                    var capturedImage = new Image();
                    capturedImage.src = canvas.toDataURL(); // 캔버스의 이미지를 데이터 URL로 가져옴
                    capturedImage.style.width = "100%";
                    capturedImage.style.height = "100%";

                    var imageContainer = document.getElementById("capturedImageContainer");
                    imageContainer.innerHTML = ""; // 이미지를 표시하기 전에 기존 내용을 지움
                    imageContainer.appendChild(capturedImage);
                });
                if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                    navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {
                        var video = document.getElementById('video');
                        video.srcObject = stream;
                        video.play();
                        captureButton.click();
                    });
                }
            </script>
        </div>
    </header>
    <!-- 추천 안경, 안경을 쓴 모습 보여주는 파트 -->
    <section class="page-section" id="about" style="position: relative; background: white; height: 500px;">
        <div class="container px-4 px-lg-5">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <div class="col-lg-8 text-center">
                </div>
                <div class="col-lg-4" style="position: relative;">
                    <!-- 이부분은 안경을 착용하는 모습을 보여주는 부분 -->
                    <!-- 이 부분은 안경을 착용하는 모습을 보여주는 부분 네모로 한 부분에 사진이 나온다(네모로 임의로 표현) -->
                    <div class="text-center"
                        style="background-color: black; height: 400px; width: 400px; position: absolute; left: 50%; transform: translateX(-50%);">
                        <!-- 이부분은 텍스트 출력하는 부분 -->
                        <p
                            style="color: black; position: absolute; top: -10%; left: 50%; transform: translate(-50%, -50%);">
                            안경을 착용한 모습입니다!</p>
                        <!-- 이 부분은 캡처한 이미지를 표시할 컨테이너 -->
                        <div id="capturedImageContainer" style="width: 100%; height: 100%;"></div>
                    </div>
                </div>
                <div class="col-lg-4" style="position: relative;">
                    <!-- 이 부분은 AI가 추천하는 안경을 보여주는 부분 -->
                    <!-- 이 부분은 추천 안경 사진을 보여준다. -->
                    <div class="text-center" style="position: absolute; left: 50%; transform: translateX(-50%);">
                        <!-- 이부분은 텍스트 출력하는 부분 -->
                        <p
                            style="color: black; position: absolute; top: -10%; left: 50%; transform: translate(-50%, -50%);">
                            이런 안경을 추천해드려요!</p>
                        <!-- 이 부분은 추천 안경 이미지 -->
                        <div class="text-center">
                            <!-- 이 부분은 추천 안경 이미지 -->
                            <img id="glassesImage" src="" style="width: 400px; height: 400px;">
                        </div>
                    </div>
                </div>
            </div>
        </div>        
        <script>
            // 이미지 가져오기 함수
            function getRandomGlassesImage() {
                // 구글 Cloud 제품 검색 API 요청 URL
                var apiUrl = 'https://www.googleapis.com/customsearch/v1?key=AIzaSyBAXRT5gcb4OUUBOHgxukSXRTP4mOFNhOE&cx=5315fec7cab154840&q=glasses&searchType=image';

                // API를 통해 랜덤 이미지 가져오기
                fetch(apiUrl)
                    .then(function (response) {
                        return response.json();
                    })
                    .then(function (data) {
                        var glassesImageElement = document.getElementById('glassesImage');
                        var randomImage = data.items[Math.floor(Math.random() * data.items.length)];
                        glassesImageElement.src = randomImage.link; // 이미지 표시
                    })
                    .catch(function (error) {
                        console.log('Error fetching random image:', error);
                    });
            }
            // 페이지 로드 시 랜덤 이미지 가져오기
            getRandomGlassesImage();
        </script>
    </section>
    <!-- Services-->
    <section class="page-section" id="services">
        <div class="container px-4 px-lg-5">
            <h2 class="text-center mt-0">At Your Service</h2>
            <hr class="divider" />
            <div class="row gx-4 gx-lg-5">
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="mt-5">
                        <div class="mb-2"><i class="bi-gem fs-1 text-primary"></i></div>
                        <h3 class="h4 mb-2">Sturdy Themes</h3>
                        <p class="text-muted mb-0">Our themes are updated regularly to keep them bug free!</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="mt-5">
                        <div class="mb-2"><i class="bi-laptop fs-1 text-primary"></i></div>
                        <h3 class="h4 mb-2">Up to Date</h3>
                        <p class="text-muted mb-0">All dependencies are kept current to keep things fresh.</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="mt-5">
                        <div class="mb-2"><i class="bi-globe fs-1 text-primary"></i></div>
                        <h3 class="h4 mb-2">Ready to Publish</h3>
                        <p class="text-muted mb-0">You can use this design as is, or you can make changes!</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="mt-5">
                        <div class="mb-2"><i class="bi-heart fs-1 text-primary"></i></div>
                        <h3 class="h4 mb-2">Made with Love</h3>
                        <p class="text-muted mb-0">Is it really open source if it's not made with love?</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Call to action-->
    <section class="page-section bg-dark text-white">
        <div class="container px-4 px-lg-5 text-center">
            <h2 class="mb-4">추천 받은 안경을 구매하러 가보세요 ! 👓️ </h2>
            <a class="btn btn-light btn-xl" href="안경정보사이트 링크 첨부"> 👓️ 구경하기 ! </a>
        </div>
    </section>
    <!-- Contact-->
    <section class="page-section" id="contact">
        <style>
            table {
                border-collapse: collapse;
                margin-top: 10px;
                border-top: 1px solid #ccc;
                border-bottom: 1px solid #ccc;
            }

            td {
                padding: 10px;
                font-weight: bold;
                text-align: center;
                border-left: 1px solid #ccc;
                border-right: 1px solid #ccc;
            }

            button {
                font-size: 18px;
                padding: 10px 20px;
                background-color: #f48181;
                margin-left: 20px;
                margin-right: 20px;
                margin-bottom: 20px;
                color: white;
                border: 3px solid #f48181;
                border-radius: 15px;
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
                margin-top: 20px;
            }

            button:hover {
                background-color: #f48181;
                color: #ffeee4;
                cursor: pointer;
            }
        </style>
        <script>
            // Register a new person
            function registerNewPerson() {
                const imageUrl = prompt("Enter the image URL for the new person:");
                const name = prompt("Enter the name for the new person:");

                // Create a new table row
                const newRow = document.createElement("tr");

                // Create the image cell
                const imageCell = document.createElement("td");
                const imageElement = document.createElement("img");
                imageElement.src = imageUrl;
                imageElement.style.width = "100px";
                imageElement.style.height = "100px";
                imageCell.appendChild(imageElement);
                newRow.appendChild(imageCell);

                // Create the name cell
                const nameCell = document.createElement("td");
                nameCell.style.width = "80px";
                nameCell.textContent = name;
                newRow.appendChild(nameCell);

                // Create the attendance button cell
                const buttonCell = document.createElement("td");
                const attendanceButton = document.createElement("button");
                attendanceButton.textContent = "😊";
                buttonCell.appendChild(attendanceButton);
                newRow.appendChild(buttonCell);

                // Get the reference to the table
                const table = document.querySelector("table");

                // Insert the new row at the beginning of the table
                table.insertBefore(newRow, table.firstChild);

                // Clear the input fields
                document.getElementById("new-person-image").src = "";
                document.getElementById("new-person-name").textContent = "";

                // Scroll to the newly registered person
                newRow.scrollIntoView({ behavior: "smooth" });
            }
        </script>
        </head>

        <body>
            <div class="container px-4 px-lg-5 text-center">
                <h2 class="mb-4">방문 기록을 남겨보세요 ! 👓️ </h2>
                <div style="display: flex; flex-direction: column; align-items: center;">
                    <table style="background: white;">
                        <tr style="background-color: #ffecd8; border-top: 1px solid #ccc">
                            <td><img src="https://img.freepik.com/premium-vector/cute-happy-smiling-burger-character-modern-trendy-flat-style-cartoon-illustration-icon-isolated-on-white-burger-fast-food-character_92289-599.jpg"
                                    style="width:100px; height:100px;"></td>
                            <td style="width: 100px;">사람이름</td>
                            <td><button onclick="sendData1()">😊</button></td>
                        </tr>
                    </table>
                    <button onclick="registerNewPerson()">방문 기록 남기기</button>
                </div>
            </div>
        </body>
    </section>

    <!-- Footer-->
    <footer class="bg-light py-5">
        <div class="container px-4 px-lg-5">
            <div class="small text-center text-muted">Copyright &copy; 2023 - 맥도날드 안동점</div>
        </div>
    </footer>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- SimpleLightbox plugin JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
    <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
    <!-- * *                               SB Forms JS                               * *-->
    <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
    <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
    <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
</body>

</html>
